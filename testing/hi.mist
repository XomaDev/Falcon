func lex(expr) = {
  local tokens = []
  local i = 1
  local len = expr.textLen()

  while (i <= len) {
    local ch = expr.segment(i, 1)

    if (ch == " ") {
      // Skip spaces
    } else if (ch ? number) {
      // If the character is a number, add it as a string
      tokens.add(ch)
    } else {
      // Otherwise, it's an operator or a variable name, add it as is
      tokens.add(ch)
    }

    // Move to the next character
    i = i + 1
  }

  // The last token is the closing parenthesis, so we remove it


  // Return the list of tokens
  tokens
}